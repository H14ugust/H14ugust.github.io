<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Proxy和NAT | H14ugust&#39;s Blog</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url()">
        </div>
    </section>
    <section class='menu'>
        <div>H14ugust&#39;s Blog</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>  
          
            <a href="/about/" class="Btn">
              <li>About</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>Proxy和NAT</h1>
    </header>

    <section>
      <p>内部局域网具有私有IP的客户端通常可通过以下两种方式接入Internet：</p>
<ul>
<li>Proxy 代理服务器</li>
<li>NAT (<em>Network Address Translation</em>) 网络地址转换服务器</li>
</ul>
<a id="more"></a>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><ul>
<li>主要运作在OSI七层协议的会话层(—应用层)部分，通常被用来连接Internet和Local Area Network。</li>
<li>主要通过Proxy服务程序(daemon,守护进程)来提供网络代理服务。</li>
<li>可作为防火墙使用，可加速。</li>
<li>其所能进行的工作<strong>受限</strong>于服务的程序功能。</li>
<li>代理分类：HTTP代理、socks代理、VPN代理、FTP代理等。</li>
</ul>
<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><ul>
<li>主要工作在网络层(传输层、数据链路层，所以才可以修改报头和端口)，将访问Internet上公网的私有IP地址转换为合法的公有IP地址，以少量的公有IP地址代替大多的私有IP地址访问的方式。</li>
<li>NAT服务器有内部和外部两个网卡，只有当内外部网络之间需要进行数据传送时，才进行地址转换。在NAT服务器上都维护一张状态表，称为NAT表。该表记录每个数据包在NAT服务器上被转换的情况。</li>
<li>NAT可以修改TCP/IP封包的源IP和目的IP，甚至是port number。</li>
<li>分类：静态转换、动态转换和端口多路复用 (端口地址转换，PAT，Port Address Translation)。</li>
</ul>
<h2 id="同："><a href="#同：" class="headerlink" title="同："></a>同：</h2><ul>
<li>局域网访问Internet。</li>
<li>都可以隐藏真实IP。</li>
<li>都可以节省IP开销。</li>
</ul>
<h2 id="异："><a href="#异：" class="headerlink" title="异："></a>异：</h2><ul>
<li>运行的层级不同。</li>
<li>NAT方式下客户端只需要设定一个网关地址，HTTP、QQ、FTP等所有服务都可以使用。而Proxy方式下，需要为每一种应用协议指定代理服务器，如IE中需要设定，QQ中需要设定，MSN需要设定，FTP也需要设定，增加了客户端使用的复杂性 (全局代理)。</li>
<li>NAT 服务器是由较底层的网络去进行分析的工作，至于通过 NAT 的封包是干嘛用的， NAT 不去管他。至于 Proxy 则主要是由一个 daemon 的功能达成的，所以必需要符合该 daemon 的需求，才能达到某些功能。</li>
<li>Proxy在实现上具体到了应用层上的协议，因此带来了一些额外的管理功能和cache功能。监测用户的资料要求流向与流量等。</li>
</ul>


      

    </section>
    
      <section class='ArticleMeta'>
          <div>
            发布于&nbsp;
            <time datetime="2019-01-13T05:52:14.000Z" itemprop="datePublished">
              2019-01-13
            </time>
          </div>
          
            <div>
              tags: 
  <li class="meta-text">
  { <a href="/tags/Network/">Network</a> }
  </li>


            </div>
          
      </section>
    
    
</article>

  
</div>

            <footer>
    <div>© 2019 - H14ugust </div>
    <div>
        <span>
            Powered by <a href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>